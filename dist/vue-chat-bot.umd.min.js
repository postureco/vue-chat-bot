(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-chat-bot"]=e(require("vue")):t["vue-chat-bot"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"24fb":function(t,e,n){"use strict";function o(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"===typeof btoa){var i=a(o),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=o(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"===typeof t&&(t=[[null,t,""]]);var a={};if(o)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(a[r]=!0)}for(var s=0;s<t.length;s++){var b=[].concat(t[s]);o&&a[b[0]]||(n&&(b[2]?b[2]="".concat(n," and ").concat(b[2]):b[2]=n),e.push(b))}},e}},"499e":function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},a=0;a<e.length;a++){var i=e[a],r=i[0],s=i[1],b=i[2],l=i[3],c={id:t+":"+a,css:s,media:b,sourceMap:l};o[r]?o[r].parts.push(c):n.push(o[r]={id:r,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return m}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,b=0,l=!1,c=function(){},u=null,p="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,n,a){l=n,u=a||{};var r=o(t,e);return f(r),function(e){for(var n=[],a=0;a<r.length;a++){var s=r[a],b=i[s.id];b.refs--,n.push(b)}e?(r=o(t,e),f(r)):r=[];for(a=0;a<n.length;a++){b=n[a];if(0===b.refs){for(var l=0;l<b.parts.length;l++)b.parts[l]();delete i[b.id]}}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(h(n.parts[a]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(h(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function h(t){var e,n,o=document.querySelector("style["+p+'~="'+t.id+'"]');if(o){if(l)return c;o.parentNode.removeChild(o)}if(d){var a=b++;o=s||(s=g()),e=v.bind(null,o,a,!1),n=v.bind(null,o,a,!0)}else o=g(),e=k.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,o){var a=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,a);else{var i=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function k(t,e){var n=e.css,o=e.media,a=e.sourceMap;if(o&&t.setAttribute("media",o),u.ssrId&&t.setAttribute(p,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},"59d2":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'.qkb-bot-ui{position:fixed;z-index:1000;bottom:1.5rem;right:1.5rem;display:flex;flex-direction:column;font-size:1rem}.qkb-bot-ui *{box-sizing:border-box}@media screen and (max-width:600px){.qkb-bot-ui{right:0;left:0}}.top-right.qkb-bot-ui{top:0;bottom:auto}.movable.qkb-bot-ui{position:relative;bottom:auto;right:auto}.qkb-preload-image{position:absolute;top:0;left:0;width:0;height:0;overflow:hidden}.qkb-bot-ui--animate .qkb-fadeUp-enter-active,.qkb-bot-ui--animate .qkb-fadeUp-leave-active{opacity:1;transform:translate(0);transition:opacity .15s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-fadeUp-enter,.qkb-bot-ui--animate .qkb-fadeUp-leave-to{transform:translateY(20px);opacity:0}.qkb-bot-ui--animate .qkb-scaleUp-enter-active,.qkb-bot-ui--animate .qkb-scaleUp-leave-active{opacity:1;transform:scale(1);transition:opacity .1s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-scaleUp-enter,.qkb-bot-ui--animate .qkb-scaleUp-leave-to{transform:scale(0);opacity:0}@-webkit-keyframes qkbJump{0%{transform:translateY(2px)}to{transform:translateY(-1px)}}@keyframes qkbJump{0%{transform:translateY(2px)}to{transform:translateY(-1px)}}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before,.qkb-msg-bubble__typing-indicator span{transform:translateY(2px);-webkit-animation:qkbJump .35s ease infinite alternate;animation:qkbJump .35s ease infinite alternate}.qkb-msg-bubble__typing-indicator span{-webkit-animation-delay:.175s;animation-delay:.175s}.qkb-msg-bubble__typing-indicator:after{-webkit-animation-delay:.35s;animation-delay:.35s}.qkb-bot-bubble{align-self:flex-end}.qkb-bubble-btn{position:relative;display:block;padding:0;outline:0;border:0;box-shadow:none;border-radius:50%;color:#fff;fill:#fff;cursor:pointer;box-shadow:0 3px 5px 0 rgba(0,0,0,.15);transition:opacity .2s linear}.qkb-bubble-btn:hover{opacity:.85}.movable .qkb-bubble-btn,.top-right .qkb-bubble-btn{display:none}.qkb-bubble-btn-icon{display:block;position:absolute;top:50%;left:50%;width:27px;height:auto;margin:-11px 0 0 -13px;line-height:1em}.qkb-bubble-btn-icon.qkb-bubble-btn-icon--close{width:15px;margin:-7px 0 0 -7px}.qkb-board{display:flex;flex-direction:column;position:absolute;right:0;overflow:hidden;width:376px;height:80vh;margin-bottom:10px;border-radius:8px;background-color:#fff;box-shadow:0 3px 30px 0 rgba(0,0,0,.15)}@media screen and (max-width:600px){.qkb-board{width:100%}}.movable .qkb-board,.top-right .qkb-board{height:auto;max-height:40vh}.movable .qkb-board{position:relative;margin-bottom:0}.qkb-board-header{display:flex;flex:none;align-items:center;justify-content:space-between;height:50px;padding:5px 15px}.movable .qkb-board-header,.top-right .qkb-board-header{display:none}.qkb-board-header__title{font-weight:700;font-size:.875rem}.qkb-board-content{flex-grow:1;overflow:hidden scroll}.qkb-board-content__bubbles{min-height:100%;padding:1.5rem 1.25rem 1rem}.qkb-msg-bubble,.qkb-msg-caption{display:flex;position:relative}.qkb-msg-caption{opacity:.7;padding-bottom:1rem}.qkb-msg-caption.qkb-msg-caption--bot .qkb-msg-caption-component{margin-right:2.5rem;margin-left:1rem}.qkb-msg-caption .qkb-msg-caption-component__text{position:relative;top:-.5rem;padding:0 1.5rem 0 .5rem;font-size:.8rem}.qkb-msg-caption .qkb-msg-caption-component__text .qkb-msg-bubble__typing-indicator{display:inline-block;margin-left:.2rem;opacity:1}.qkb-msg-caption .qkb-msg-avatar{top:-.5rem;left:.75rem}.qkb-msg-avatar{flex-grow:1;flex:none;position:relative;overflow:hidden;border-radius:50%}.qkb-msg-avatar.qkb-msg-avatar-small{width:16px;height:16px}.qkb-msg-avatar__img{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;background-size:cover;background-repeat:no-repeat}.qkb-msg-bubble__time{display:none;position:absolute;right:0;top:0;padding:2px 5px;margin-top:-5px;border-radius:5px;font-size:.625rem;color:#fff;background-color:#222;transform:translateY(-100%);opacity:0;transition:opacity .1s linear 1s}.qkb-msg-bubble--user .qkb-msg-bubble__time{display:block}.qkb-msg-bubble-component{font-size:.875rem}.qkb-msg-bubble-component:hover~.qkb-msg-bubble__time{opacity:.8}.qkb-msg-bubble{padding-bottom:1rem}.qkb-msg-bubble.qkb-msg-bubble--bot .qkb-msg-bubble-component{margin-right:2.5rem;margin-left:.5rem}.qkb-msg-bubble.qkb-msg-bubble--user{justify-content:flex-end}.qkb-msg-bubble.qkb-msg-bubble--user .qkb-msg-bubble-component{margin-left:5rem}.qkb-msg-bubble-component__text{position:relative;padding:.75rem 1rem;border-radius:6px}.qkb-msg-bubble-component__options-wrapper{display:flex;flex-wrap:wrap}.qkb-mb-button-options__item{flex:0 0 auto}.qkb-mb-button-options__item.hidden{display:none}.qkb-mb-button-options__btn{display:block;overflow:hidden;position:relative;margin:.5rem .375rem 0 0;padding:.25rem 1rem;cursor:pointer;outline:0;border:1px solid transparent;border-radius:13px;color:inherit;font-size:.875rem;font-family:inherit;text-decoration:none;background-color:transparent;transition:background-color .15s linear,color .1s linear}.qkb-mb-button-options__btn span{position:relative;z-index:10}.qkb-msg-bubble__typing-indicator{position:relative;min-width:14px;opacity:.3}.qkb-msg-bubble__typing-indicator span{display:block;width:2px;height:2px;margin:0 auto;border-radius:50%}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before{content:"";display:block;position:absolute;top:0;width:2px;height:2px;border-radius:50%}.qkb-msg-bubble__typing-indicator:before{left:0}.qkb-msg-bubble__typing-indicator:after{right:0}.qkb-board-action{position:relative;display:flex;flex:none;height:46px;padding:.45rem 1.25rem .5rem;border-top:1px solid #e6e6e6}.qkb-board-action--disabled:before{content:"";display:block;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%;opacity:.2;cursor:not-allowed}.qkb-board-action__wrapper{display:flex;width:100%;background-color:#fff}.qkb-board-action__msg-box{position:relative;flex-grow:1;padding:0 1rem 0 0}.qkb-board-action__input{height:100%;width:100%;padding:0;font-size:.875rem;border:0;background-color:transparent;box-shadow:none;outline:0;color:#000}.qkb-board-action__input[disabled=disabled]{pointer-events:none}.qkb-board-action__disable-text{display:flex;align-items:center;position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fff;font-size:.875rem}.qkb-board-action__extra{display:flex;flex:none;justify-content:center}.qkb-action-item{display:block;padding:0;outline:0;border:0;line-height:1;box-shadow:none;background-color:transparent;cursor:pointer;opacity:.6;transition:opacity .1s linear}.qkb-action-item:hover{opacity:1}.qkb-action-icon{width:16px;height:16px;line-height:1;fill:#666;color:#666;vertical-align:middle}.qkb-board-aciton--typing .qkb-action-item--send{opacity:1}',""]),t.exports=e},"8bbf":function(e,n){e.exports=t},b4c3:function(t,e,n){var o=n("59d2");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("499e").default;a("7d102d35",o,!0,{sourceMap:!1,shadowMode:!1})},de67:function(t,e,n){"use strict";var o=n("b4c3"),a=n.n(o);a.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(o){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var o;(n.r(e),n.d(e,"VueChatBot",(function(){return Tt})),"undefined"!==typeof window)&&(n("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=o[1]));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-bot-ui",class:t.uiClasses},[n("transition",{attrs:{name:"qkb-fadeUp"}},[t.botActive?n("div",{staticClass:"qkb-board"},[n("BoardHeader",{attrs:{"bot-title":t.optionsMain.botTitle},on:{"close-bot":t.botToggle}}),n("BoardContent",{attrs:{"bot-typing":t.botTyping,"main-data":t.messages}}),n("BoardAction",{attrs:{"msg-count":t.messages.length,"input-password":t.inputPassword,"input-disable":t.inputDisable,"input-placeholder":t.optionsMain.inputPlaceholder,"input-disable-placeholder":t.optionsMain.inputDisablePlaceholder},on:{"msg-send":t.sendMessage}})],1):t._e()]),n("div",{staticClass:"qkb-bot-bubble"},[n("button",{staticClass:"qkb-bubble-btn",on:{click:t.botToggle}},[t._t("bubbleButton",[n("transition",{attrs:{name:"qkb-scaleUp"}},[t.botActive?n("CloseIcon",{key:"2",staticClass:"qkb-bubble-btn-icon qkb-bubble-btn-icon--close"}):n("BubbleIcon",{key:"1",staticClass:"qkb-bubble-btn-icon"})],1)])],2)]),n("AppStyle",{attrs:{options:t.optionsMain}}),n("div",{staticClass:"qkb-preload-image"},[t.optionsMain.botAvatarImg?n("div",{staticClass:"qkb-msg-avatar__img"}):t._e()])],1)},i=[],r=n("8bbf"),s=n.n(r),b=new s.a,l=b,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-board-header"},[t._t("header",[n("div",{staticClass:"qkb-board-header__title"},[t._v(t._s(t.botTitle))])])],2)},u=[],p={props:{botTitle:{type:String,default:"Chatbot"}}},d=p;function m(t,e,n,o,a,i,r,s){var b,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),r?(b=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=b):a&&(b=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),b)if(l.functional){l._injectStyles=b;var c=l.render;l.render=function(t,e){return b.call(e),c(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,b):[b]}return{exports:t,options:l}}var f=m(d,c,u,!1,null,null,null),g=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"boardContent",staticClass:"qkb-board-content"},[n("div",{ref:"boardBubbles",staticClass:"qkb-board-content__bubbles"},[t._l(t.mainData,(function(e,o){return n("message-bubble",{key:o,attrs:{message:e,isLatest:o==t.mainData.length-1}})})),t.botTyping?n("div",{staticClass:"qkb-board-content__bot-typing"},[t._t("botTyping",[n("message-typing-slim")])],2):t._e()],2)])},y=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble",class:t.bubbleClass},["bot"===t.message.agent?n("div",{staticClass:"qkb-msg-avatar"},[n("div",{staticClass:"qkb-msg-avatar__img"})]):t._e(),t.componentType?n(t.componentType,{tag:"component",attrs:{"main-data":t.message,disabled:!t.isLatest}}):t._e(),t.message.createdAt?n("div",{staticClass:"qkb-msg-bubble__time"},[t._v(t._s(t.message.createdAt))]):t._e()],1)},k=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--single-text"},["text"===t.mainData.type?n("div",{staticClass:"qkb-msg-bubble-component__text"},[t._v(t._s(t.mainData.text))]):t._e(),["html","button"].includes(t.mainData.type)?n("div",{staticClass:"qkb-msg-bubble-component__text",domProps:{innerHTML:t._s(t.mainData.text)}}):t._e()])},q=[],x={props:{mainData:{type:Object}}},w=x,O=m(w,_,q,!1,null,null,null),C=O.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--button-options"},["text"===t.mainData.type?n("div",{staticClass:"qkb-msg-bubble-component__text"},[t._v(t._s(t.mainData.text))]):t._e(),["html","button"].includes(t.mainData.type)?n("div",{staticClass:"qkb-msg-bubble-component__text",domProps:{innerHTML:t._s(t.mainData.text)}}):t._e(),n("div",{staticClass:"qkb-msg-bubble-component__options-wrapper"},t._l(t.mainData.options,(function(e,o){return n("div",{key:o,staticClass:"qkb-mb-button-options__item",class:{active:t.selectedItem===e.value,hidden:t.disabled}},["postback"===e.action?n("button",{staticClass:"qkb-mb-button-options__btn",attrs:{disabled:t.disabled},on:{click:function(n){return t.selectOption(e)}}},[n("span",[t._v(t._s(e.text))])]):n("a",{staticClass:"qkb-mb-button-options__btn qkb-mb-button-options__url",attrs:{href:e.value}},[n("span",[t._v(t._s(e.text))])])])})),0)])},P=[],B={props:{mainData:{type:Object},disabled:{type:Boolean,default:!1}},data:function(){return{selectedItem:null}},methods:{selectOption:function(t){this.selectedItem=t,l.$emit("select-button-option",t)}}},S=B,T=m(S,j,P,!1,null,null,null),D=T.exports,M={components:{SingleText:C,ButtonOptions:D},props:{message:{type:Object},isLatest:{type:Boolean,default:!1}},computed:{bubbleClass:function(){var t="bot"===this.message.agent?"qkb-msg-bubble--bot":"qkb-msg-bubble--user";return t+(this.isLatest?" qkb-active-msg":"")},componentType:function(){var t="";switch(this.message.type){case"button":t="ButtonOptions";break;default:t="SingleText"}return t}}},E=M,$=m(E,v,k,!1,null,null,null),A=$.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-caption qkb-msg-caption--bot"},[n("div",{staticClass:"qkb-msg-avatar qkb-msg-avatar-small"},[n("div",{staticClass:"qkb-msg-avatar__img"})]),n("div",{staticClass:"qkb-msg-caption-component qkb-msg-caption-component--typing"},[n("div",{staticClass:"qkb-msg-caption-component__text"},[t._v("PostureBot is typing"),n("div",{staticClass:"qkb-msg-bubble__typing-indicator"},[n("span")])])])])}],I={},L=m(I,z,U,!1,null,null,null),N=L.exports,R={components:{MessageBubble:A,MessageTypingSlim:N},props:{mainData:{type:Array,required:!0},botTyping:{type:Boolean,default:!1}},mounted:function(){this.updateScroll()},watch:{mainData:function(t){var e=this;this.$nextTick((function(){e.updateScroll()}))}},methods:{updateScroll:function(){var t=this.$refs.boardContent,e=this.$refs.boardBubbles.offsetHeight;t.scrollTop=e}}},H=R,V=m(H,h,y,!1,null,null,null),Y=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-board-action",class:t.actionClass},[n("div",{staticClass:"qkb-board-action__wrapper"},[n("div",{staticClass:"qkb-board-action__msg-box"},["checkbox"===t.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],ref:"qkbMessageInput",staticClass:"qkb-board-action__input",attrs:{disabled:t.inputDisable,placeholder:t.inputPlaceholder,type:"checkbox"},domProps:{checked:Array.isArray(t.messageText)?t._i(t.messageText,null)>-1:t.messageText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},change:function(e){var n=t.messageText,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);o.checked?r<0&&(t.messageText=n.concat([i])):r>-1&&(t.messageText=n.slice(0,r).concat(n.slice(r+1)))}else t.messageText=a}}}):"radio"===t.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],ref:"qkbMessageInput",staticClass:"qkb-board-action__input",attrs:{disabled:t.inputDisable,placeholder:t.inputPlaceholder,type:"radio"},domProps:{checked:t._q(t.messageText,null)},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},change:function(e){t.messageText=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],ref:"qkbMessageInput",staticClass:"qkb-board-action__input",attrs:{disabled:t.inputDisable,placeholder:t.inputPlaceholder,type:t.inputType},domProps:{value:t.messageText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},input:function(e){e.target.composing||(t.messageText=e.target.value)}}}),t.inputDisablePlaceholder&&t.inputDisable?n("div",{staticClass:"qkb-board-action__disable-text"},[n("span",[t._v(t._s(t.inputDisablePlaceholder))])]):t._e()]),n("div",{staticClass:"qkb-board-action__extra"},[t._t("actions"),n("button",{staticClass:"qkb-action-item qkb-action-item--send",on:{click:t.sendMessage}},[t._t("sendButton",[n("IconSend",{staticClass:"qkb-action-icon qkb-action-icon--send"})])],2)],2)])])},G=[],X=["class","staticClass","style","staticStyle","attrs"];function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q(t,e){if(null==t)return{};var n,o,a=Z(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Z(t,e){if(null==t)return{};var n,o,a={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}var tt={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,i=void 0===a?[]:a,r=o["class"],s=o.staticClass,b=o.style,l=o.staticStyle,c=o.attrs,u=void 0===c?{}:c,p=Q(o,X);return n("svg",W({class:[r,s],style:[b,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488.721 488.721"},u)},p),i.concat([n("path",{attrs:{d:"M483.589 222.024a51.197 51.197 0 00-23.762-23.762L73.522 11.331C48.074-.998 17.451 9.638 5.122 35.086A51.2 51.2 0 003.669 76.44l67.174 167.902L3.669 412.261c-10.463 26.341 2.409 56.177 28.75 66.639a51.314 51.314 0 0018.712 3.624c7.754 0 15.408-1.75 22.391-5.12l386.304-186.982c25.45-12.326 36.089-42.949 23.763-68.398zM58.657 446.633c-8.484 4.107-18.691.559-22.798-7.925a17.065 17.065 0 01-.481-13.784l65.399-163.516h340.668L58.657 446.633zm42.121-219.358L35.379 63.759a16.64 16.64 0 014.215-18.773 16.537 16.537 0 0119.063-2.884l382.788 185.173H100.778z"}})]))}},et={components:{IconSend:tt},props:{inputPlaceholder:{type:String},inputDisablePlaceholder:{type:String},inputDisable:{type:Boolean,default:!1},inputPassword:{type:Boolean,default:!1},msgCount:{type:Number,default:0}},data:function(){return{messageText:null}},computed:{actionClass:function(){var t=[];return this.inputDisable&&t.push("qkb-board-action--disabled"),this.messageText&&t.push("qkb-board-action--typing"),t},inputType:function(){return this.inputPassword?"password":"text"}},mounted:function(){this.$refs.qkbMessageInput.focus()},watch:{msgCount:function(t){this.$refs.qkbMessageInput.focus()}},methods:{sendMessage:function(){this.messageText&&(this.$emit("msg-send",{text:this.messageText}),this.messageText=null)}}},nt=et,ot=m(nt,J,G,!1,null,null,null),at=ot.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-bot-style",staticStyle:{display:"none"},domProps:{innerHTML:t._s(t.style)}})},rt=[],st={props:["options"],computed:{style:function(){if(!this.options)return"";var t=this.options,e=t.colorScheme,n=t.textColor,o=t.boardContentBg,a=t.bubbleBtnSize,i=t.botAvatarImg,r=t.botAvatarSize,s=t.inputDisableBg,b=t.msgBubbleBgBot,l=t.msgBubbleColorBot,c=t.msgBubbleBgUser,u=t.msgBubbleColorUser,p='\n<style type="text/css" id="qkb-bot-style">\n.qkb-bubble-btn {\n  background-color: '.concat(e,";\n  width: ").concat(a,"px;\n  height: ").concat(a,"px;\n}\n.qkb-bubble-btn-icon {\n  fill: ").concat(n,";\n  color: ").concat(n,";\n}\n.qkb-board {\n  bottom: ").concat(a,"px;\n}\n.top-right .qkb-board {\n  top: ").concat(a+20,"px;\n  bottom: initial;\n}\n.movable .qkb-board {\n  bottom: initial;\n}\n.qkb-board-header {\n  background-color: ").concat(e,";\n}\n.qkb-board-header__title {\n  color: ").concat(n,";\n}\n.qkb-board-content {\n  background-color: ").concat(o,";\n}\n").concat(i?".qkb-msg-avatar {\n      width: ".concat(r,"px;\n      height: ").concat(r,"px;\n    }\n    .qkb-msg-avatar__img {\n      background-image: url(").concat(i,");\n    }"):"","\n.qkb-msg-bubble--bot .qkb-msg-bubble-component__text {\n  color: ").concat(l,";\n  background-color: ").concat(b,";\n}\n.qkb-msg-bubble__typing-indicator span,\n.qkb-msg-bubble__typing-indicator::before,\n.qkb-msg-bubble__typing-indicator::after {\n  background-color: ").concat(l,";\n}\n.qkb-mb-button-options__btn::before {\n  background-color: ").concat(c,";\n}\n.qkb-msg-bubble--user .qkb-msg-bubble-component__text {\n  color: ").concat(u,";\n  background-color: ").concat(c,";\n}\n.qkb-mb-button-options__btn {\n  color: ").concat(c,";\n  border-color: ").concat(c,";\n}\n.qkb-mb-button-options__btn:hover {\n  color: ").concat(u,";\n  background-color: ").concat(c,";\n}\n.qkb-board-action--disabled::before {\n  background-color: ").concat(s,";\n}\n</style>\n      ");return p}}},bt=st,lt=m(bt,it,rt,!1,null,null,null),ct=lt.exports,ut=["class","staticClass","style","staticStyle","attrs"];function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){if(null==t)return{};var n,o,a=gt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gt(t,e){if(null==t)return{};var n,o,a={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}var ht={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,i=void 0===a?[]:a,r=o["class"],s=o.staticClass,b=o.style,l=o.staticStyle,c=o.attrs,u=void 0===c?{}:c,p=ft(o,ut);return n("svg",dt({class:[r,s],style:[b,l],attrs:Object.assign({height:"511pt",viewBox:"1 -31 512 511",width:"511pt",xmlns:"http://www.w3.org/2000/svg"},u)},p),i.concat([n("path",{attrs:{d:"M128 448.5c-8.836 0-16-7.164-16-16v-80H48c-26.512 0-48-21.492-48-48v-256C0 21.988 21.488.5 48 .5h416c26.512 0 48 21.488 48 48v256c0 26.508-21.488 48-48 48H230.625l-91.313 91.313c-3 3-7.07 4.687-11.312 4.687zm-80-416c-8.836 0-16 7.164-16 16v256c0 8.836 7.164 16 16 16h80c8.836 0 16 7.164 16 16v57.375l68.688-68.688c3-3 7.07-4.687 11.312-4.687h240c8.836 0 16-7.164 16-16v-256c0-8.836-7.164-16-16-16zm0 0"}}),n("path",{attrs:{d:"M160 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M352 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M256 288.5c-52.996-.05-95.945-43.004-96-96 0-8.836 7.164-16 16-16s16 7.164 16 16c0 35.348 28.652 64 64 64s64-28.652 64-64c0-8.836 7.164-16 16-16s16 7.164 16 16c-.055 52.996-43.004 95.945-96 96zm0 0"}})]))}},yt=["class","staticClass","style","staticStyle","attrs"];function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e){if(null==t)return{};var n,o,a=xt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xt(t,e){if(null==t)return{};var n,o,a={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}var wt={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,i=void 0===a?[]:a,r=o["class"],s=o.staticClass,b=o.style,l=o.staticStyle,c=o.attrs,u=void 0===c?{}:c,p=qt(o,yt);return n("svg",kt({class:[r,s],style:[b,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001"},u)},p),i.concat([n("path",{attrs:{d:"M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0014.143 5.857 19.94 19.94 0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"}})]))}};function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt={name:"VueBotUI",components:{BoardHeader:g,BoardContent:Y,BoardAction:at,BubbleIcon:ht,CloseIcon:wt,AppStyle:ct},props:{options:{type:Object,default:function(){return{}}},messages:{type:Array},botTyping:{type:Boolean,default:!1},inputDisable:{type:Boolean,default:!1},inputPassword:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},topRight:{type:Boolean,default:!1}},data:function(){return{botActive:!1,defaultOptions:{botTitle:"Chatbot",colorScheme:"#1b53d0",textColor:"#fff",bubbleBtnSize:56,animation:!0,boardContentBg:"#fff",botAvatarSize:32,botAvatarImg:"http://placehold.it/200x200",msgBubbleBgBot:"#f0f0f0",msgBubbleColorBot:"#000",msgBubbleBgUser:"#4356e0",msgBubbleColorUser:"#fff",inputPlaceholder:"Message",inputDisableBg:"#fff",inputDisablePlaceholder:null}}},computed:{optionsMain:function(){return Ct(Ct({},this.defaultOptions),this.options)},uiClasses:function(){var t=[];return this.optionsMain.animation&&t.push("qkb-bot-ui--animate"),this.optionsMain.topRight&&t.push("top-right"),this.optionsMain.movable&&t.push("movable"),t}},created:function(){this.initBot()},mounted:function(){l.$on("select-button-option",this.selectOption)},beforeDestroy:function(){l.$off("select-button-option")},methods:{initBot:function(){this.isOpen&&(this.botActive=!0),this.$emit("init")},botToggle:function(){this.botActive=!this.botActive,this.botActive?this.$emit("open"):this.$emit("destroy")},sendMessage:function(t){this.$emit("msg-send",t)},selectOption:function(t){this.$emit("msg-send",t)}}},Bt=Pt,St=(n("de67"),m(Bt,a,i,!1,null,null,null)),Tt=St.exports,Dt={install:function(t,e){t.component("VueChatBot",Tt),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Dt)}},Mt=Dt;e["default"]=Mt}})}));